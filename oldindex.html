<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Day of the week</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, width=device-width, maximum-scale=1.0">
    <script src="/opt/PalmSDK/0.1/share/refcode/framework/enyo/1.0/framework/enyo.js" type="text/javascript"></script>

    <script>
      /*
      var Holidays = function () {
        var dayNames = ["sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday"];
        var monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        var selectedYear = function () {return new Date().getFullYear()};
        var dateFormat = function (date) {
          return dayNames[date.getDay()] + ' ' + date.getDate() + ' ' + monthNames[date.getMonth()];
        };

        var easter = function (year) {
          if (!year) {
            year = new Date().getFullYear();
          }

          var g = year % 19 + 1,
              c = Math.floor(year / 100) + 1,
              x = Math.floor((3 * c) / 4) - 12,
              z = Math.floor((8 * c + 5) / 25) - 5,
              d = Math.floor((5 * year) / 4) - x - 10,
              e = (11 * g + 20 + z - x) % 30;

          if (e == 24 || (e == 25 && g > 11)) {
            e += 1;
          }

          var n = 44 - e;

          if (n < 21) {
            n += 30;
          }

          n += 7 - (d + n) % 7;

          return new Date(year, Math.floor(3 + n / 31 - 1), n % 31);
        };

        return {
          selectedYear: selectedYear(),
          swedish: [
            {name: "New year's day (nyårsdagen)", date: function () {return dateFormat(new Date(selectedYear(), 0, 1));}},
            {name: "Twelfth Night (trettondsafton)", date: function () {return dateFormat(new Date(selectedYear(), 0, 5));}},
            {name: "Epiphany (trettondedag jul)", date: function () {return dateFormat(new Date(selectedYear(), 0, 6));}},
            {name: "Good Friday (långfredagen)", date: function () {var e = easter(selectedYear()); e.setDate(e.getDate() - 2); return dateFormat(e);  }},
            {name: "Holy Saturday (påskafton)", date: function () {var e = easter(selectedYear()); e.setDate(e.getDate() - 1); return dateFormat(e);  }},
            {name: "Easter Sunday (påskdagen)", date: function () {return dateFormat(easter(selectedYear()));  }},
            {name: "Easter Monday (annandag påsk)", date: function () {var e = easter(selectedYear()); e.setDate(e.getDate() + 1); return dateFormat(e);  }},
            {name: "Walpurgis Night (valborgsmässoafton)", date: function () {return dateFormat(new Date(selectedYear(), 3, 30));}},
            {name: "International Workers Day (första maj)", date: function () {return dateFormat(new Date(selectedYear(), 4,1));}},
            {name: "Ascension Day (Kristi himmelsfäd)", date: function () {var e = easter(selectedYear()); e.setDate(e.getDate() + 39); return dateFormat(e);  }},
            {name: "National Day of Sweden (nationaldagen)", date: function () {return dateFormat(new Date(selectedYear(), 5,6)); }},
            {name: "Whitsun Eve (pingstafton)", date: function () {var e = easter(selectedYear()); e.setDate(e.getDate() + 48); return dateFormat(e);  }},
            {name: "Pentecost (pingstdagen)", date: function () {var e = easter(selectedYear()); e.setDate(e.getDate() + 49); return dateFormat(e);  }},
            {name: "Midsummer's Day (midsommardagen)", date: function () { var d = new Date(selectedYear(), 5, 20); d.setDate(d.getDate() + 6 - d.getDay()); return dateFormat(d);}},
            {name: "All Saints' Eve (alla helgons afton)", date: function () { var d = new Date(selectedYear(), 9, 31); d.setDate(d.getDate() + 5 - d.getDay()); return dateFormat(d);}},
            {name: "All Saints' Day (alla helgons dag)", date: function () { var d = new Date(selectedYear(), 9, 31); d.setDate(d.getDate() + 6 - d.getDay()); return dateFormat(d);}},
            {name: "Christmas Eve (julafton)", date: function () {return dateFormat(new Date(selectedYear(), 11,24)); }},
            {name: "Christmas Day (juldagen)", date: function () {return dateFormat(new Date(selectedYear(), 11,25)); }},
            {name: "Boxing Day (annandag jul)", date: function () {return dateFormat(new Date(selectedYear(), 11,26)); }},
            {name: "New year's eve (nyårsafton)", date: function () {return dateFormat(new Date(selectedYear(), 11, 31));}}
          ],
          dayOfWeek: function (date) {
            return dayNames[date.getDay()];
          }
        }
      }();
      */
    </script>
  </head>
  <body>
    <script type="text/javascript" launch="nobridge">
      /*
      document.write("<dl>");
      for (var index in Holidays.swedish) {
        var holiday = Holidays.swedish[index];
        document.write("<dt>" + holiday.name + '</dt><dd>' + holiday.date() + "</dd>");
      }*/
      Cerise.Holidays().renderInto(document.body);
    </script>
  </body>
</html>
